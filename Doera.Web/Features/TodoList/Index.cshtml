@using Doera.Application.DTOs.Tags
@using Doera.Application.DTOs.TodoItem
@using Doera.Web.ViewModels
@model TodoListDto

@{
    ViewData["Title"] = Model.Name;
    ViewData["Breadcrumbs"] = new BreadcrumbsVM(
        new BreadcrumbSegment(Model.Name, Active: true)
    );
}

@section Tags{
    @await Component.InvokeAsync("GetTags", new TagFilter { TodoListId = Model.Id })
}

<div class="container py-3">
    <div class="d-flex align-items-center justify-content-between mb-3">
        <div>
            <h1 class="h3 m-0">@Model.Name</h1>
        </div>
        <div class="btn-group">
            <a asp-controller="TodoItem" asp-action="Create" asp-route-listId="@Model.Id" class="btn btn-sm btn-primary">
                + Add item
            </a>
            <a asp-controller="Home" asp-action="Index" class="btn btn-sm btn-outline-secondary">Back</a>
        </div>
    </div>
    <hr />
    @await Html.PartialAsync("_TodoItemQuickCreate", new CreateTodoItemVM { TodoListId = Model.Id })
    @await Component.InvokeAsync("GetTodoItems", new TodoItemFilter { TodoListId = Model.Id })
</div>
